@model IEnumerable<SecureBank.UI.Models.DTO.LoanDto>

<!-- Page Header -->
<div class="container-fluid accounts-breadcrumb text-center py-5">
    <h4 class="text-white display-4 mb-4">Loans</h4>
    <ol class="breadcrumb d-flex justify-content-center mb-0">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="breadcrumb-item active text-primary">Loans</li>
    </ol>
</div>

<div class="loan-page-header">
    <div class="container d-flex justify-content-between align-items-center" style="gap:1rem;">
        <h3 class="page-title"><i class="fas fa-money-check-alt me-2"></i>Loans</h3>
        <a class="add-loan-btn btn btn-secondary" asp-controller="Loans" asp-action="Add">
            <i class="fas fa-plus"></i> Apply for Loan
        </a>
    </div>
</div>

<div class="container">
    @if (Model != null && Model.Any())
    {
        <div>
            <div class="loan-custom-table">
                <table>
                    <thead>
                        <tr>
                            <th>Loan Id</th>
                            <th>Account Number</th>
                            <th>Loan Amount</th>
                            <th>Interest Rate</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Remaining</th>
                            <th>Monthly Payment</th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var loan in Model)
                        {
                            <tr class="loan-card">
                                <td>@loan.LoanId</td>
                                <td>@loan.AccountNumber</td>
                                <td class="amount">$@loan.LoanAmount</td>
                                <td>@loan.InterestRate %</td>
                                <td>@loan.LoanStartDate.ToString("MMM dd, yyyy")</td>
                                <td>@loan.LoanEndDate.ToString("MMM dd, yyyy")</td>
                                <td class="amount">$@loan.RemainingAmount</td>
                                <td>$@loan.MonthlyRepayment</td>
                                <td>
                                    <span class="status-badge @(loan.IsLoanPaidOff ? "paid" : "active")">
                                        @(loan.IsLoanPaidOff ? "Paid Off" : "Active")
                                    </span>
                                </td>
                                <td>
                                    <a asp-action="Details" asp-route-id="@loan.LoanId" class="btn btn-info btn-sm">Details</a>
                                    <a asp-action="Edit" asp-route-id="@loan.LoanId" class="btn btn-secondary btn-sm">Edit</a>
                                    <a asp-action="Delete" asp-route-id="@loan.LoanId" class="btn btn-danger btn-sm">Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
    else
    {
        <div class="no-loans">
            <i class="fas fa-hand-holding-usd fa-2x mb-2"></i>
            <h4>No loans found.</h4>
            <p>All your loans will appear here.</p>
        </div>
    }
</div>

<!-- Features Start -->
<div class="container-xxl feature py-5">
    <div class="container">
        <div class="row g-5 align-items-center">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s">
                <h1 class="display-5 mb-4">Why Choose Secure Bank for Your Loan Needs?</h1>
                <p class="mb-4">
                    Apply for, manage, and track your loans through Secure Bank. Experience quick approvals, transparent terms, and expert guidance every step of the way. Our loans feature is crafted to empower your financial goals.
                </p>
            </div>
            <div class="col-lg-6">
                <div class="row g-4 align-items-center">
                    <div class="col-md-6">
                        <div class="row g-4">
                            <div class="col-12 wow fadeIn" data-wow-delay="0.3s">
                                <div class="feature-box border rounded p-4">
                                    <i class="fa fa-clock fa-3x text-primary mb-3"></i>
                                    <h4 class="mb-3">Quick Approvals</h4>
                                    <p class="mb-3">
                                        Get your loan approved swiftly with our streamlined process. No endless paperwork—just fast, efficient decisions for your financial needs.
                                    </p>
                                </div>
                            </div>
                            <div class="col-12 wow fadeIn" data-wow-delay="0.5s">
                                <div class="feature-box border rounded p-4">
                                    <i class="fa fa-user-graduate fa-3x text-primary mb-3"></i>
                                    <h4 class="mb-3">Expert Guidance</h4>
                                    <p class="mb-3">
                                        Our dedicated loan advisors are here to guide you at every step. Get clear answers and personalized support for all your questions.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 wow fadeIn" data-wow-delay="0.7s">
                        <div class="feature-box border rounded p-4">
                            <i class="fa fa-shield-alt fa-3x text-primary mb-3"></i>
                            <h4 class="mb-3">Transparent & Secure</h4>
                            <p class="mb-3">
                                Enjoy peace of mind with transparent loan terms and secure application processes. Your personal information is always protected.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

